<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ÄÄƒng kÃ½</title>
    <link rel="stylesheet" th:href="@{/css/pta-style.css}">
</head>
<body class="product-detail-page">

<!-- HEADER -->
<th:block th:replace="layout/ptaHeader :: pta_header"></th:block>

<div class="auth-container">
    <h2>ÄÄƒng kÃ½ tÃ i khoáº£n</h2>

    <!-- THÃ”NG BÃO Lá»–I -->
    <div th:if="${error}" style="color:#ff4d4f; margin-bottom:10px;" th:text="${error}"></div>

    <form th:action="@{/register}" method="post" onsubmit="return validateRegisterForm()">

        <!-- GIá»® Láº I URL QUAY Vá»€ -->
        <input type="hidden" name="redirect" th:value="${redirect}">

        <label>Há» tÃªn *</label>
        <input type="text" name="fullName" id="fullName" placeholder="Nháº­p há» tÃªn cá»§a báº¡n" value="">

        <label>Email *</label>
        <input type="email" name="email" id="regEmail" placeholder="Nháº­p email" value="">

        <label>Máº­t kháº©u *</label>
        <div class="password-wrapper">
            <input type="password" name="password" id="regPassword" placeholder="Nháº­p máº­t kháº©u">
            <span class="toggle-pass" onclick="togglePassword('regPassword')">ğŸ‘</span>
        </div>

        <label>Sá»‘ Ä‘iá»‡n thoáº¡i</label>
        <input type="text" name="phone" id="phone" placeholder="Nháº­p sá»‘ Ä‘iá»‡n thoáº¡i" value="">

        <button type="submit" class="auth-btn">ÄÄƒng kÃ½</button>
    </form>

    <div class="auth-switch">
        ÄÃ£ cÃ³ tÃ i khoáº£n?
        <a th:href="@{/login(redirect=${redirect})}">ÄÄƒng nháº­p ngay</a>
    </div>
</div>

<script>
    // Kiá»ƒm tra form trÆ°á»›c khi submit
    function validateRegisterForm() {
        const fullName = document.getElementById('fullName');
        const email = document.getElementById('regEmail');
        const password = document.getElementById('regPassword');

        if (!fullName.value.trim()) {
            alert('Vui lÃ²ng nháº­p há» tÃªn');
            fullName.focus();
            return false;
        }
        if (!email.value.trim()) {
            alert('Vui lÃ²ng nháº­p email');
            email.focus();
            return false;
        }
        if (!password.value.trim()) {
            alert('Vui lÃ²ng nháº­p máº­t kháº©u');
            password.focus();
            return false;
        }
        return true;
    }

    // Toggle show/hide password
    function togglePassword(id) {
        const passInput = document.getElementById(id);
        if (passInput.type === 'password') {
            passInput.type = 'text';
        } else {
            passInput.type = 'password';
        }
    }
</script>

</body>
</html>
